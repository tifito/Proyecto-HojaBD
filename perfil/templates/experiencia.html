{% extends 'base.html' %}

{% block content %}
<main class="container py-5">

    {% if perfil %}

        <h2 class="mb-5 text-center fw-bold">Experiencia Laboral</h2>

        {% if experiencias %}
            <div class="row g-4 justify-content-center">
                {% for exp in experiencias %}
                <div class="col-md-6">
                    <div class="card exp-card h-100 p-4">

                        <!-- CARGO -->
                        {% if exp.cargodesempenado %}
                        <h5 class="fw-bold mb-2">
                            <i class="bi bi-briefcase-fill me-2 text-primary"></i>
                            {{ exp.cargodesempenado }}
                        </h5>
                        {% endif %}

                        <!-- EMPRESA -->
                        {% if exp.nombrempresa %}
                        <p class="mb-1 text-muted">
                            <i class="bi bi-building me-2"></i>
                            {{ exp.nombrempresa }}
                        </p>
                        {% endif %}

                        <!-- LUGAR -->
                        {% if exp.lugarempresa %}
                        <p class="mb-1 text-muted">
                            <i class="bi bi-geo-alt me-2"></i>
                            {{ exp.lugarempresa }}
                        </p>
                        {% endif %}

                        <!-- FECHAS -->
                        {% if exp.fechainiciogestion or exp.fechafingestion %}
                        <p class="mb-2 text-muted">
                            <i class="bi bi-calendar-event me-2"></i>
                            {{ exp.fechainiciogestion }}
                            {% if exp.fechafingestion %} — {{ exp.fechafingestion }}{% endif %}
                        </p>
                        {% endif %}

                        <!-- DESCRIPCIÓN -->
                        {% if exp.descripcionfunciones %}
                        <p class="mb-3 text-muted">
                            <i class="bi bi-info-circle me-2"></i>
                            {{ exp.descripcionfunciones }}
                        </p>
                        {% endif %}

                        <!-- CONTACTO -->
                        {% if exp.nombrecontactoempresarial or exp.telefonocontactoempresarial %}
                        <div class="small text-muted mb-2">
                            <i class="bi bi-person-lines-fill me-2"></i>
                            {{ exp.nombrecontactoempresarial }}
                            {% if exp.telefonocontactoempresarial %}
                                | {{ exp.telefonocontactoempresarial }}
                            {% endif %}
                        </div>
                        {% endif %}

                        <!-- EMAIL / WEB -->
                        {% if exp.emailempresa or exp.sitiowebempresa %}
                        <div class="small text-muted">
                            {% if exp.emailempresa %}
                                <i class="bi bi-envelope me-2"></i>
                                {{ exp.emailempresa }}
                            {% endif %}

                            {% if exp.sitiowebempresa %}
                                <br>
                                <i class="bi bi-globe me-2"></i>
                                {{ exp.sitiowebempresa }}
                            {% endif %}
                        </div>
                        {% endif %}

                        <!-- CERTIFICADO -->
                        {% if exp.rutacertificado %}
                        <div class="mt-3 text-end">
                            <a href="{{ exp.rutacertificado }}"
                               target="_blank"
                               class="btn btn-outline-primary btn-sm fw-semibold">
                                <i class="bi bi-award me-1"></i>
                                Ver certificado
                            </a>
                        </div>
                        {% endif %}

                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-center text-muted">
                No hay experiencias laborales registradas.
            </p>
        {% endif %}

    {% else %}
        <div class="text-center py-5">
            <h4 class="text-muted fw-semibold">
                Este perfil no se encuentra activo.
            </h4>
        </div>
    {% endif %}
</main>

<style>
.exp-card {
    background: linear-gradient(135deg, #f8fafc, #eef2f7);
    border-left: 4px solid #2563eb;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.exp-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 14px 28px rgba(0,0,0,0.2);
}
</style>

{% endblock %}
